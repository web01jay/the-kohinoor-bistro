import{z as P,B as f,d as T,j as r,D as k,F as S,E as R,G as u,H as h,I as z,J as H,q as W,r as p,R as m,x as _,K as $}from"./index-eP9qiw8R.js";import{S as L}from"./index-BtQ_3XA-.js";import"./index-CUWDS_la.js";import"./reactNode-DXOKYsMu.js";const F=P().shape({street:f().required("Street is required").min(3,"Street must be at least 3 characters"),city:f().required("City is required").min(2,"City must be at least 2 characters"),state:f().required("State/Province is required").min(2,"State must be at least 2 characters"),country:f().oneOf(["Canada"],"Country must be Canada").required("Country is required"),postalCode:f().matches(/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/,"Invalid postal code format (e.g., A1A 1A1)").required("Postal code is required"),type:f().oneOf(["HOME","WORK","OTHER"],"Invalid address type").required("Address type is required")}),q=({isOpen:e,setIsOpen:a,isEdit:n,setIsEdit:o,editAddress:t,setEditAddress:i})=>{const c=T(),x={street:n?t==null?void 0:t.street:"",city:n?t==null?void 0:t.city:"",state:n?t==null?void 0:t.state:"",country:"Canada",postalCode:n?t==null?void 0:t.postalCode:"",addressType:n?t==null?void 0:t.type:""},y=s=>{console.log("Form values:",s),n?c(z({...s,type:s==null?void 0:s.addressType})):(c(H(s==null?void 0:s.id,{...s,type:s==null?void 0:s.addressType})),o(!1),i())};return r.jsx(k,{title:n?"Edit Address":"Add Address",onClose:()=>{a(!1)},open:e,className:"custom-drawer",children:r.jsx(S,{initialValues:x,validationSchema:F,onSubmit:y,children:({isSubmitting:s,values:d})=>r.jsxs(R,{children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(u,{className:"form-control border rounded px-2",type:"text",id:"street",name:"street",placeHolder:"Street"}),r.jsx(h,{name:"street",component:"div",style:{color:"red"}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(u,{className:"form-control border rounded px-2",type:"text",id:"city",name:"city",placeHolder:"City"}),r.jsx(h,{name:"city",component:"div",style:{color:"red"}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(u,{className:"form-control border rounded px-2",type:"text",id:"state",name:"state",placeHolder:"State/Province"}),r.jsx(h,{name:"state",component:"div",style:{color:"red"}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(u,{className:"form-control border rounded px-2",type:"text",id:"country",name:"country",disabled:!0,placeHolder:"Country"}),r.jsx(h,{name:"country",component:"div",style:{color:"red"}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(u,{className:"form-control border rounded px-2",type:"text",id:"postalCode",name:"postalCode",placeHolder:"Postal Code"}),r.jsx(h,{name:"postalCode",component:"div",style:{color:"red"}})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("div",{className:"btn-group btn-group-toggle d-flex","data-toggle":"buttons",children:[r.jsxs("label",{className:`btn btn-outline-primary ${d.addressType==="HOME"?"active":""}`,onClick:()=>setFieldValue("addressType","HOME"),children:[r.jsx(u,{type:"radio",name:"addressType",value:"HOME",className:"d-none"}),"Home"]}),r.jsxs("label",{className:`btn btn-outline-primary ${d.addressType==="WORK"?"active":""}`,onClick:()=>setFieldValue("addressType","WORK"),children:[r.jsx(u,{type:"radio",name:"addressType",value:"WORK",className:"d-none"}),"Work"]}),r.jsxs("label",{className:`btn btn-outline-primary ${d.addressType==="OTHER"?"active":""}`,onClick:()=>setFieldValue("addressType","OTHER"),children:[r.jsx(u,{type:"radio",name:"addressType",value:"OTHER",className:"d-none"}),"Other"]})]}),r.jsx(h,{name:"addressType",component:"div",className:"text-danger mt-2"})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:s,className:"montserrat-regular w-100 rounded",children:"Submit"})})]})})})};var N={exports:{}},I="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M=I,D=M;function E(){}function C(){}C.resetWarningCache=E;var B=function(){function e(o,t,i,c,x,y){if(y!==D){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function a(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,elementType:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:C,resetWarningCache:E};return n.PropTypes=n,n};N.exports=B();var V=N.exports;const l=W(V);function j(){return j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}function K(e,a){if(e==null)return{};var n=Z(e,a),o,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Z(e,a){if(e==null)return{};var n={},o=Object.keys(e),t,i;for(i=0;i<o.length;i++)t=o[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var v=p.forwardRef(function(e,a){var n=e.color,o=n===void 0?"currentColor":n,t=e.size,i=t===void 0?24:t,c=K(e,["color","size"]);return m.createElement("svg",j({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),m.createElement("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),m.createElement("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}))});v.propTypes={color:l.string,size:l.oneOfType([l.string,l.number])};v.displayName="Briefcase";function b(){return b=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}function U(e,a){if(e==null)return{};var n=G(e,a),o,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function G(e,a){if(e==null)return{};var n={},o=Object.keys(e),t,i;for(i=0;i<o.length;i++)t=o[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var O=p.forwardRef(function(e,a){var n=e.color,o=n===void 0?"currentColor":n,t=e.size,i=t===void 0?24:t,c=U(e,["color","size"]);return m.createElement("svg",b({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),m.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))});O.propTypes={color:l.string,size:l.oneOfType([l.string,l.number])};O.displayName="Home";function g(){return g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g.apply(this,arguments)}function J(e,a){if(e==null)return{};var n=Y(e,a),o,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Y(e,a){if(e==null)return{};var n={},o=Object.keys(e),t,i;for(i=0;i<o.length;i++)t=o[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var w=p.forwardRef(function(e,a){var n=e.color,o=n===void 0?"currentColor":n,t=e.size,i=t===void 0?24:t,c=J(e,["color","size"]);return m.createElement("svg",g({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),m.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.createElement("circle",{cx:"12",cy:"10",r:"3"}))});w.propTypes={color:l.string,size:l.oneOfType([l.string,l.number])};w.displayName="MapPin";const te=()=>{const e=T(),{addressList:a,status:n}=_(s=>s.address),[o,t]=p.useState(!1),[i,c]=p.useState(!1),[x,y]=p.useState(null);return p.useState(),p.useState(!1),p.useEffect(()=>{e($())},[]),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-100 w-100 d-flex align-items-center px-5",children:r.jsxs("div",{className:"w-100",children:[r.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100",children:[r.jsx("h3",{className:"fs-15-rem text-uppercase",children:"Address"}),r.jsx("button",{className:"add-address-btn montserrat-regular",onClick:()=>{t(!0)},children:"Add Address"})]}),r.jsx("br",{}),n==="loading"&&r.jsx(r.Fragment,{children:r.jsx(L,{tip:"Loading",size:"large"})}),a&&a.length&&a.map((s,d)=>r.jsxs("div",{className:"bg-white px-3 py-2 address-card d-flex",children:[r.jsx("span",{className:"mt-1 mr-2",children:(s==null?void 0:s.type.toLowerCase())=="home"?r.jsx(O,{className:"text-dark",color:"#000000",size:"16"}):(s==null?void 0:s.type.toLowerCase())=="work"?r.jsx(v,{}):r.jsx(w,{})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-dark montserrat-bold",children:s==null?void 0:s.type}),r.jsxs("p",{className:"text-dark montserrat-regular",children:[s==null?void 0:s.street,", ",s==null?void 0:s.city,", ",s==null?void 0:s.state,", ",r.jsx("br",{}),s==null?void 0:s.country," - ",s==null?void 0:s.postalCode]}),r.jsxs("p",{children:[r.jsx("button",{className:"text-gold mr-2",onClick:()=>{c(!0),y(s),t(!0)},children:"EDIT"}),r.jsx("button",{className:"text-gold mr-2",children:"DELETE"})]})]})]},d))]})}),r.jsx(q,{isOpen:o,setIsOpen:t,isEdit:i,setIsEdit:c,editAddress:x,setEditAddress:y})]})};export{te as default};
