import{r as p,p as U,M as R,N as V,h as H,k as D,g as X,O,s as B,P as _,v as w,t as K,Q as Y,T as G,C as Q,S as Z,U as J,W as ee,V as ne,w as ae,j as e,F as te,X as se,E as ie,G as v,H as S,L as re,z as le,B as b,Y as ce}from"./index-CL-EAsFu.js";import{B as oe}from"./banquet-4D0LXm2m.js";import{C as de}from"./index-CsO24XYg.js";var me=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],P=p.forwardRef(function(n,a){var r,s=n.prefixCls,l=s===void 0?"rc-switch":s,d=n.className,h=n.checked,i=n.defaultChecked,t=n.disabled,c=n.loadingIcon,x=n.checkedChildren,o=n.unCheckedChildren,g=n.onClick,m=n.onChange,f=n.onKeyDown,N=U(n,me),I=R(!1,{value:h,defaultValue:i}),u=V(I,2),$=u[0],C=u[1];function q(y,M){var k=$;return t||(k=y,C(k),m==null||m(k,M)),k}function E(y){y.which===O.LEFT?q(!1,y):y.which===O.RIGHT&&q(!0,y),f==null||f(y)}function j(y){var M=q(!$,y);g==null||g(M,y)}var z=H(l,d,(r={},D(r,"".concat(l,"-checked"),$),D(r,"".concat(l,"-disabled"),t),r));return p.createElement("button",X({},N,{type:"button",role:"switch","aria-checked":$,disabled:t,className:z,ref:a,onKeyDown:E,onClick:j}),c,p.createElement("span",{className:"".concat(l,"-inner")},p.createElement("span",{className:"".concat(l,"-inner-checked")},x),p.createElement("span",{className:"".concat(l,"-inner-unchecked")},o)))});P.displayName="Switch";const ue=n=>{const{componentCls:a,trackHeightSM:r,trackPadding:s,trackMinWidthSM:l,innerMinMarginSM:d,innerMaxMarginSM:h,handleSizeSM:i,calc:t}=n,c=`${a}-inner`,x=w(t(i).add(t(s).mul(2)).equal()),o=w(t(h).mul(2).equal());return{[a]:{[`&${a}-small`]:{minWidth:l,height:r,lineHeight:w(r),[`${a}-inner`]:{paddingInlineStart:h,paddingInlineEnd:d,[`${c}-checked, ${c}-unchecked`]:{minHeight:r},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${x} - ${o})`,marginInlineEnd:`calc(100% - ${x} + ${o})`},[`${c}-unchecked`]:{marginTop:t(r).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${a}-handle`]:{width:i,height:i},[`${a}-loading-icon`]:{top:t(t(i).sub(n.switchLoadingIconSize)).div(2).equal(),fontSize:n.switchLoadingIconSize},[`&${a}-checked`]:{[`${a}-inner`]:{paddingInlineStart:d,paddingInlineEnd:h,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${x} + ${o})`,marginInlineEnd:`calc(-100% + ${x} - ${o})`}},[`${a}-handle`]:{insetInlineStart:`calc(100% - ${w(t(i).add(s).equal())})`}},[`&:not(${a}-disabled):active`]:{[`&:not(${a}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:t(n.marginXXS).div(2).equal(),marginInlineEnd:t(n.marginXXS).mul(-1).div(2).equal()}},[`&${a}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:t(n.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:t(n.marginXXS).div(2).equal()}}}}}}},he=n=>{const{componentCls:a,handleSize:r,calc:s}=n;return{[a]:{[`${a}-loading-icon${n.iconCls}`]:{position:"relative",top:s(s(r).sub(n.fontSize)).div(2).equal(),color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${a}-checked ${a}-loading-icon`]:{color:n.switchColor}}}},pe=n=>{const{componentCls:a,trackPadding:r,handleBg:s,handleShadow:l,handleSize:d,calc:h}=n,i=`${a}-handle`;return{[a]:{[i]:{position:"absolute",top:r,insetInlineStart:r,width:d,height:d,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:s,borderRadius:h(d).div(2).equal(),boxShadow:l,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${a}-checked ${i}`]:{insetInlineStart:`calc(100% - ${w(h(d).add(r).equal())})`},[`&:not(${a}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${a}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},ge=n=>{const{componentCls:a,trackHeight:r,trackPadding:s,innerMinMargin:l,innerMaxMargin:d,handleSize:h,calc:i}=n,t=`${a}-inner`,c=w(i(h).add(i(s).mul(2)).equal()),x=w(i(d).mul(2).equal());return{[a]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:d,paddingInlineEnd:l,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:r},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${x})`,marginInlineEnd:`calc(100% - ${c} + ${x})`},[`${t}-unchecked`]:{marginTop:i(r).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${a}-checked ${t}`]:{paddingInlineStart:l,paddingInlineEnd:d,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${x})`,marginInlineEnd:`calc(-100% + ${c} - ${x})`}},[`&:not(${a}-disabled):active`]:{[`&:not(${a}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:i(s).mul(2).equal(),marginInlineEnd:i(s).mul(-1).mul(2).equal()}},[`&${a}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:i(s).mul(-1).mul(2).equal(),marginInlineEnd:i(s).mul(2).equal()}}}}}},xe=n=>{const{componentCls:a,trackHeight:r,trackMinWidth:s}=n;return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},K(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:s,height:r,lineHeight:w(r),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${a}-disabled)`]:{background:n.colorTextTertiary}}),Y(n)),{[`&${a}-checked`]:{background:n.switchColor,[`&:hover:not(${a}-disabled)`]:{background:n.colorPrimaryHover}},[`&${a}-loading, &${a}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${a}-rtl`]:{direction:"rtl"}})}},be=n=>{const{fontSize:a,lineHeight:r,controlHeight:s,colorWhite:l}=n,d=a*r,h=s/2,i=2,t=d-i*2,c=h-i*2;return{trackHeight:d,trackHeightSM:h,trackMinWidth:t*2+i*4,trackMinWidthSM:c*2+i*2,trackPadding:i,handleBg:l,handleSize:t,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new G("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:t/2,innerMaxMargin:t+i+i*2,innerMinMarginSM:c/2,innerMaxMarginSM:c+i+i*2}},fe=B("Switch",n=>{const a=_(n,{switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchLoadingIconSize:n.calc(n.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[xe(a),ge(a),pe(a),he(a),ue(a)]},be);var ye=function(n,a){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&a.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)a.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(r[s[l]]=n[s[l]]);return r};const ve=p.forwardRef((n,a)=>{const{prefixCls:r,size:s,disabled:l,loading:d,className:h,rootClassName:i,style:t,checked:c,value:x,defaultChecked:o,defaultValue:g,onChange:m}=n,f=ye(n,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[N,I]=R(!1,{value:c??x,defaultValue:o??g}),{getPrefixCls:u,direction:$,switch:C}=p.useContext(Q),q=p.useContext(Z),E=(l??q)||d,j=u("switch",r),z=p.createElement("div",{className:`${j}-handle`},d&&p.createElement(ne,{className:`${j}-loading-icon`})),[y,M,k]=fe(j),A=J(s),F=H(C==null?void 0:C.className,{[`${j}-small`]:A==="small",[`${j}-loading`]:d,[`${j}-rtl`]:$==="rtl"},h,i,M,k),L=Object.assign(Object.assign({},C==null?void 0:C.style),t),W=function(){I(arguments.length<=0?void 0:arguments[0]),m==null||m.apply(void 0,arguments)};return y(p.createElement(ee,{component:"Switch"},p.createElement(P,Object.assign({},f,{checked:N,onChange:W,prefixCls:j,className:F,style:L,disabled:E,ref:a,loadingIcon:z}))))}),T=ve;T.__ANT_SWITCH=!0;const Se=n=>le({email:b().email("Invalid email format").required("Required"),name:b().required("Required"),phoneNumber:b().matches(/^\d{10}$/,"Must be a valid phone number (10 digits)").required("Required"),cardNumber:b().matches(/^\d{16}$/,"Must be a valid 16-digit credit card number").required("Required"),expiryDate:b().matches(/^(0[1-9]|1[0-2])\/?([0-9]{2})$/,"Invalid format (MM/YY)").required("Required"),note:b(),includeUtensils:ce(),cvc:b().matches(/^\d{3,4}$/,"Must be 3 or 4 digits").required("Required"),zipCode:b().matches(/^\d{5}$/,"Must be a valid 5-digit zip code").required("Required").when("isDelivery",{is:!0,then:b().required("Required for delivery")}),street:b().when("isDelivery",{is:!0,then:b().required("Required for delivery")}),city:b().when("isDelivery",{is:!0,then:b().required("Required for delivery")}),state:b().when("isDelivery",{is:!0,then:b().required("Required for delivery")})}),Ce=()=>{const n=ae(o=>o.cart.cartList),[a,r]=p.useState(0),[s,l]=p.useState(0),[d,h]=p.useState(0),[i,t]=p.useState(!1),[c,x]=p.useState(!1);return p.useEffect(()=>{if(Object.keys(n).length>0){let o=0;Object.values(n).forEach(g=>{o+=(g==null?void 0:g.price)*(g==null?void 0:g.quantity)}),r(o)}},[n]),p.useEffect(()=>{const m=new Date,f={timeZone:"America/Toronto",hour:"numeric",hour12:!0},N=m.toLocaleString("en-US",f);console.log("currentHour",N),N>=0&&N<12?t(!1):t(!0)},[]),e.jsx("div",{className:"section-spacer checkout-page",style:{backgroundImage:`url(${oe})`},children:e.jsx("div",{className:"section-spacer h-100",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"bg-white p-2",style:{borderRadius:"10px"},children:e.jsx("div",{style:{border:"1px solid #CA9614"},children:e.jsx("div",{className:"py-5 px-2 px-lg-5",children:e.jsx(te,{initialValues:{email:"",name:"",phoneNumber:"",note:"",includeUtensils:!1,cardNumber:"",expiryDate:"",cvc:"",zipCode:"",street:"",city:"",state:""},validationSchema:Se(),onSubmit:async o=>{console.log("Form Data",o);const m=JSON.parse(localStorage.getItem("cartList")).cart,f=Object.values(m).map(u=>({dish:{id:u.id,name:u.name,description:u.description,price:parseFloat(u.price),category:u.section,imageUrl:u.imageUrl||"default_image_url_here"},quantity:u.quantity,price:parseFloat(u.price)*u.quantity})),N=f.reduce((u,$)=>u+$.price,0),I={email:o.email,phoneNumber:o.phoneNumber,name:o.name,orderPreference:{note:o.note,includeUtensils:o.includeUtensils},address:{type:"HOME",street:o.street,city:o.city,state:o.state,postalCode:o.postalCode,country:"Canada"},order:f,totalPrice:N+d+N*13/100};try{const u=await se.post("https://kohinoor-bistro-api.vercel.app/v1/orders/create-order",I);console.log("Order successfully submitted:",u.data)}catch(u){console.error("Error submitting order:",u)}},children:({values:o,setFieldValue:g})=>e.jsx(ie,{children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"playfair-bold mb-3 checkout-titles",children:"Contact Information"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"email",name:"email",className:"form-control border rounded px-2",placeholder:"Email Address (Required)"}),e.jsx(S,{name:"email",component:"small",className:"text-danger"})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"name",className:"form-control border rounded px-2",placeholder:"Name (Required)"}),e.jsx(S,{name:"name",component:"small",className:"text-danger"})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"phoneNumber",className:"form-control border rounded px-2",placeholder:"Phone Number (Required)"}),e.jsx(S,{name:"phoneNumber",component:"small",className:"text-danger"})]}),e.jsx("p",{className:"playfair-bold mb-3 checkout-titles mt-5",children:"Order Preferences"}),e.jsx("p",{className:"montserrat-bold",children:"Notes for Restaurant"}),e.jsx(v,{type:"textarea",name:"note",className:"form-control border rounded px-2",placeholder:"Note"}),e.jsx(S,{name:"note",component:"small",className:"text-danger"}),e.jsx(de,{className:"montserrat-regular my-2",style:{color:"#A0A0A0",fontSize:"14px"},value:o.includeUtensils,onChange:m=>{g("includeUtensils",m.target.checked)},children:"Include utensils and napkins"}),e.jsx("p",{className:"playfair-bold mb-3 checkout-titles mt-3",children:"Payment Information"}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"cardNumber",className:"form-control border rounded px-2",placeholder:"Card Number"}),e.jsx(S,{name:"cardNumber",component:"small",className:"text-danger"})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"expiryDate",className:"form-control border rounded px-2",placeholder:"MM/YY"}),e.jsx(S,{name:"expiryDate",component:"small",className:"text-danger"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"cvc",className:"form-control border rounded px-2",placeholder:"CVC"}),e.jsx(S,{name:"cvc",component:"small",className:"text-danger"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group mb-3",children:[e.jsx(v,{type:"text",name:"zipCode",className:"form-control border rounded px-2",placeholder:"Zip Code"}),e.jsx(S,{name:"zipCode",component:"small",className:"text-danger"})]})})]}),e.jsx("button",{type:"submit",className:"place-order-btn btn btn-primary mt-3",disabled:!i,children:"PLACE ORDER"}),!i&&e.jsx("p",{children:"Restaurant is closed as of now. Please wait till it gets open on 12PM."})]})]}),e.jsx("div",{className:"col-md-6 mt-3 mt-md-0",children:e.jsxs("div",{className:"p-3",style:{boxShadow:"2px 2px 6px 0px #00000033"},children:[e.jsx("p",{className:"playfair-bold mb-3 checkout-titles",children:"Order Type"}),e.jsxs("p",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"montserrat-regular",children:"Take Away"}),e.jsx(T,{className:"mx-2",size:"small",checked:c,onChange:()=>{x(!c)}}),e.jsx("span",{className:"montserrat-regular",children:"Delivery"})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group mb-2",children:[e.jsx(v,{type:"text",name:"street",className:"form-control border rounded px-2",placeholder:"Street (Required)"}),e.jsx(S,{name:"street",component:"small",className:"text-danger"})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx(v,{type:"text",name:"city",className:"form-control border rounded px-2",placeholder:"City (Required)"}),e.jsx(S,{name:"city",component:"small",className:"text-danger"})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx(v,{type:"text",name:"state",className:"form-control border rounded px-2",placeholder:"State (Required)"}),e.jsx(S,{name:"state",component:"small",className:"text-danger"})]}),e.jsx("div",{className:"form-group mb-2",children:e.jsx(v,{type:"text",name:"postalCode",className:"form-control border rounded px-2",placeholder:"Postal Code"})})]}),e.jsx("p",{className:"playfair-bold mb-3 checkout-titles",children:"Order Summary"}),Object.values(n).map((m,f)=>e.jsxs("div",{className:"d-flex justify-content-between w-100 mb-2",children:[e.jsx("div",{className:"d-flex w-75",children:e.jsx("div",{className:"ml-2",children:e.jsx("p",{className:"montserrat-regular mb-0",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"},children:m==null?void 0:m.name})})}),e.jsxs("p",{className:"montserrat-regular text-right",children:[m==null?void 0:m.quantity," x $",m==null?void 0:m.price]})]},f)),e.jsx(re,{to:"/menu",className:"text-dark montserrat-regular",style:{fontSize:"14px",textDecoration:"underline"},children:"Edit Items"}),e.jsx("br",{}),e.jsx("div",{className:"w-100",style:{border:"0.5px solid #E4E4E4"}}),e.jsx("br",{}),e.jsx("p",{className:"playfair-bold mb-3 checkout-titles",children:"Tip Amount"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-4",children:e.jsxs("button",{onClick:()=>{l(15),h(a*15/100)},className:`${s===15&&" active "} checkout-tip`,children:["15% ",e.jsx("br",{}),"$",(a*15/100).toFixed(2)]})}),e.jsx("div",{className:"col-4",children:e.jsxs("button",{onClick:()=>{l(18),h(a*18/100)},className:`${s===18&&" active "} checkout-tip`,children:["18% ",e.jsx("br",{}),"$",(a*18/100).toFixed(2)]})}),e.jsx("div",{className:"col-4",children:e.jsxs("button",{onClick:()=>{l(20),h(a*20/100)},className:`${s===20&&" active "} checkout-tip`,children:["20% ",e.jsx("br",{}),"$",(a*20/100).toFixed(2)]})})]}),e.jsx("div",{className:"w-100 my-3",style:{border:"0.5px solid #E4E4E4"}}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("p",{style:{fontSize:".9rem"},className:"mb-0 montserrat-regular",children:"SubTotal"}),e.jsxs("p",{style:{fontSize:".9rem"},className:"mb-0 montserrat-regular",children:["$",a]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("p",{style:{fontSize:".9rem"},className:"mb-0 montserrat-regular",children:"Tax (13%)"}),e.jsxs("p",{style:{fontSize:".9rem"},className:"mb-0 montserrat-regular",children:["$",(a*13/100).toFixed(2)]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("p",{style:{fontSize:".9rem"},className:"mb-0 montserrat-regular",children:"Tip"}),e.jsxs("p",{className:"mb-0 montserrat-regular",children:["$",d.toFixed(2)]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("p",{className:"mb-0 montserrat-bold",style:{fontSize:"1.2rem"},children:"Total"}),e.jsxs("p",{className:"mb-0 montserrat-bold",children:["$",(a+d+a*13/100).toFixed(2)]})]})]})]})})]})})})})})})})})})};export{Ce as default};
