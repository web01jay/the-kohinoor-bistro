import{aR as B,W as D,Y as I,be as P,ad as F,_ as ee,bf as te,bg as M,bh as E,o as ne,bi as oe,bj as re,r as a,T as y,a3 as se,a1 as q,h as z,C as G,R as U,O as ae}from"./index-BHLIkHmc.js";import{c as ie}from"./reactNode-DxIetF66.js";function L(e){return e!==void 0}function Te(e,t){var n=t||{},o=n.defaultValue,r=n.value,i=n.onChange,c=n.postState,v=B(function(){return L(r)?r:L(o)?typeof o=="function"?o():o:typeof e=="function"?e():e}),m=D(v,2),l=m[0],s=m[1],f=r!==void 0?r:l,p=c?c(f):f,W=I(i),T=B([f]),S=D(T,2),C=S[0],x=S[1];P(function(){var b=C[0];l!==b&&W(l,b)},[C]),P(function(){L(r)||s(r)},[r]);var O=I(function(b,R){s(b,R),x([f],R)});return[p,O]}const xe=e=>{const[,,,,t]=F();return t?`${e}-css-var`:""};var _=ee({},te),ue=_.version,ce=_.render,le=_.unmountComponentAtNode,N;try{var fe=Number((ue||"").split(".")[0]);fe>=18&&(N=_.createRoot)}catch{}function j(e){var t=_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&ne(t)==="object"&&(t.usingClientEntryPoint=e)}var w="__rc_react_root__";function de(e,t){j(!0);var n=t[w]||N(t);j(!1),n.render(e),t[w]=n}function ve(e,t){ce(e,t)}function pe(e,t){if(N){de(e,t);return}ve(e,t)}function me(e){return V.apply(this,arguments)}function V(){return V=M(E().mark(function e(t){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var r;(r=t[w])===null||r===void 0||r.unmount(),delete t[w]}));case 1:case"end":return o.stop()}},e)})),V.apply(this,arguments)}function be(e){le(e)}function he(e){return k.apply(this,arguments)}function k(){return k=M(E().mark(function e(t){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(N===void 0){o.next=2;break}return o.abrupt("return",me(t));case 2:be(t);case 3:case"end":return o.stop()}},e)})),k.apply(this,arguments)}const ge=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,o=t.height;if(n||o)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),i=r.width,c=r.height;if(i||c)return!0}}return!1},Re=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},_e=oe("Wave",e=>[Re(e)]),H=`${re}-wave-target`;function Se(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function $(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&Se(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Ce(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return $(t)?t:$(n)?n:$(o)?o:null}function A(e){return Number.isNaN(e)?0:e}const Ee=e=>{const{className:t,target:n,component:o}=e,r=a.useRef(null),[i,c]=a.useState(null),[v,m]=a.useState([]),[l,s]=a.useState(0),[f,p]=a.useState(0),[W,T]=a.useState(0),[S,C]=a.useState(0),[x,O]=a.useState(!1),b={left:l,top:f,width:W,height:S,borderRadius:v.map(d=>`${d}px`).join(" ")};i&&(b["--wave-color"]=i);function R(){const d=getComputedStyle(n);c(Ce(n));const u=d.position==="static",{borderLeftWidth:h,borderTopWidth:g}=d;s(u?n.offsetLeft:A(-parseFloat(h))),p(u?n.offsetTop:A(-parseFloat(g))),T(n.offsetWidth),C(n.offsetHeight);const{borderTopLeftRadius:K,borderTopRightRadius:J,borderBottomLeftRadius:Q,borderBottomRightRadius:X}=d;m([K,J,X,Q].map(Z=>A(parseFloat(Z))))}if(a.useEffect(()=>{if(n){const d=y(()=>{R(),O(!0)});let u;return typeof ResizeObserver<"u"&&(u=new ResizeObserver(R),u.observe(n)),()=>{y.cancel(d),u==null||u.disconnect()}}},[]),!x)return null;const Y=(o==="Checkbox"||o==="Radio")&&(n==null?void 0:n.classList.contains(H));return a.createElement(se,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(d,u)=>{var h;if(u.deadline||u.propertyName==="opacity"){const g=(h=r.current)===null||h===void 0?void 0:h.parentElement;he(g).then(()=>{g==null||g.remove()})}return!1}},(d,u)=>{let{className:h}=d;return a.createElement("div",{ref:q(r,u),className:z(t,h,{"wave-quick":Y}),style:b})})},ye=(e,t)=>{var n;const{component:o}=t;if(o==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild),pe(a.createElement(Ee,Object.assign({},t,{target:e})),r)},we=(e,t,n)=>{const{wave:o}=a.useContext(G),[,r,i]=F(),c=I(l=>{const s=e.current;if(o!=null&&o.disabled||!s)return;const f=s.querySelector(`.${H}`)||s,{showEffect:p}=o||{};(p||ye)(f,{className:t,token:r,component:n,event:l,hashId:i})}),v=a.useRef();return l=>{y.cancel(v.current),v.current=y(()=>{c(l)})}},Oe=e=>{const{children:t,disabled:n,component:o}=e,{getPrefixCls:r}=a.useContext(G),i=a.useRef(null),c=r("wave"),[,v]=_e(c),m=we(i,z(c,v),o);if(U.useEffect(()=>{const s=i.current;if(!s||s.nodeType!==1||n)return;const f=p=>{!ge(p.target)||!s.getAttribute||s.getAttribute("disabled")||s.disabled||s.className.includes("disabled")||s.className.includes("-leave")||m(p)};return s.addEventListener("click",f,!0),()=>{s.removeEventListener("click",f,!0)}},[n]),!U.isValidElement(t))return t??null;const l=ae(t)?q(t.ref,i):i;return ie(t,{ref:l})};export{H as T,Oe as W,xe as a,he as b,ge as i,pe as r,Te as u};
